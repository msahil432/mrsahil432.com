/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { ChangeDetectionStrategy, Component, Inject, Input, ViewChild, } from '@angular/core';
import { ADSENSE_TOKEN } from './adsense-config';
export class AdsenseComponent {
    /**
     * @param {?} config
     */
    constructor(config) {
        this.config = config;
        /**
         * can be manually set if you need all ads on a page to have same id page-xxx
         */
        this.adRegion = 'page-' + Math.floor(Math.random() * 10000) + 1;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        const /** @type {?} */ config = this.config;
        /**
         * @template T
         * @param {?} source
         * @param {?} defaultValue
         * @return {?}
         */
        function use(source, defaultValue) {
            return config && source !== undefined ? source : defaultValue;
        }
        this.adClient = use(this.adClient, config.adClient);
        this.adSlot = use(this.adSlot, config.adSlot);
        this.adFormat = use(this.adFormat, config.adFormat || 'auto');
        this.display = use(this.display, config.display || 'block');
        this.width = use(this.width, config.width);
        this.height = use(this.height, config.height);
        this.layout = use(this.layout, config.layout);
        this.layoutKey = use(this.layoutKey, config.layoutKey);
        this.pageLevelAds = use(this.pageLevelAds, config.pageLevelAds);
        this.timeOutRetry = use(this.timeOutRetry, config.timeOutRetry || 200);
        this.adtest = use(this.adtest, config.adtest);
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        const /** @type {?} */ iframe = this.ins.nativeElement.querySelector('iframe');
        if (iframe && iframe.contentWindow) {
            iframe.src = 'about:blank';
            iframe.remove();
        }
    }
    /**
     * attempts to push the ad twice. Usually if one doesn't work the other
     * will depeding on if the browser has the adsense code cached and
     * if its the first page to be loaded
     * @return {?}
     */
    ngAfterViewInit() {
        const /** @type {?} */ res = this.push();
        if (res instanceof TypeError) {
            setTimeout(() => this.push(), this.timeOutRetry);
        }
    }
    /**
     * @return {?}
     */
    push() {
        const /** @type {?} */ p = {};
        if (this.pageLevelAds) {
            p.google_ad_client = this.adClient;
            p.enable_page_level_ads = true;
        }
        try {
            const /** @type {?} */ adsbygoogle = window['adsbygoogle'];
            adsbygoogle.push(p);
            return true;
        }
        catch (/** @type {?} */ e) {
            return e;
        }
    }
}
AdsenseComponent.decorators = [
    { type: Component, args: [{
                selector: 'ng2-adsense,ng-adsense',
                template: `
  <ins #ins class="adsbygoogle"
    [ngStyle]="{'display': display, 'width.px': width, 'height.px': height }"
    [attr.data-ad-client]="adClient"
    [attr.data-ad-slot]="adSlot"
    [attr.data-ad-format]="adFormat"
    [attr.data-ad-region]="adRegion"
    [attr.data-layout]="layout"
    [attr.data-adtest]="adtest"
    [attr.data-layout-key]="layoutKey">
  </ins>
  `,
                preserveWhitespaces: false,
                changeDetection: ChangeDetectionStrategy.OnPush
            }] }
];
/** @nocollapse */
AdsenseComponent.ctorParameters = () => [
    { type: undefined, decorators: [{ type: Inject, args: [ADSENSE_TOKEN,] },] },
];
AdsenseComponent.propDecorators = {
    "adClient": [{ type: Input },],
    "adSlot": [{ type: Input },],
    "adFormat": [{ type: Input },],
    "adRegion": [{ type: Input },],
    "display": [{ type: Input },],
    "width": [{ type: Input },],
    "height": [{ type: Input },],
    "layout": [{ type: Input },],
    "layoutKey": [{ type: Input },],
    "pageLevelAds": [{ type: Input },],
    "timeOutRetry": [{ type: Input },],
    "adtest": [{ type: Input },],
    "ins": [{ type: ViewChild, args: ['ins',] },],
};
function AdsenseComponent_tsickle_Closure_declarations() {
    /** @type {!Array<{type: !Function, args: (undefined|!Array<?>)}>} */
    AdsenseComponent.decorators;
    /**
     * @nocollapse
     * @type {function(): !Array<(null|{type: ?, decorators: (undefined|!Array<{type: !Function, args: (undefined|!Array<?>)}>)})>}
     */
    AdsenseComponent.ctorParameters;
    /** @type {!Object<string,!Array<{type: !Function, args: (undefined|!Array<?>)}>>} */
    AdsenseComponent.propDecorators;
    /**
     * adsense account ca-pub-XXXXXXXXXXXXXXXX
     * @type {?}
     */
    AdsenseComponent.prototype.adClient;
    /**
     * ad slot/number
     * @type {?}
     */
    AdsenseComponent.prototype.adSlot;
    /** @type {?} */
    AdsenseComponent.prototype.adFormat;
    /**
     * can be manually set if you need all ads on a page to have same id page-xxx
     * @type {?}
     */
    AdsenseComponent.prototype.adRegion;
    /**
     * ins element display style
     * @type {?}
     */
    AdsenseComponent.prototype.display;
    /**
     * ins element height in px
     * @type {?}
     */
    AdsenseComponent.prototype.width;
    /**
     * ins element width in px
     * @type {?}
     */
    AdsenseComponent.prototype.height;
    /**
     * used for in-feed ads
     * @type {?}
     */
    AdsenseComponent.prototype.layout;
    /**
     * used for in-feed ads
     * @type {?}
     */
    AdsenseComponent.prototype.layoutKey;
    /**
     * enable page-level ads
     * @type {?}
     */
    AdsenseComponent.prototype.pageLevelAds;
    /**
     * on first load sometimes adsense is not ready
     * @type {?}
     */
    AdsenseComponent.prototype.timeOutRetry;
    /**
     * sets up some sort of google test ad
     * @type {?}
     */
    AdsenseComponent.prototype.adtest;
    /** @type {?} */
    AdsenseComponent.prototype.ins;
    /** @type {?} */
    AdsenseComponent.prototype.config;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWRzZW5zZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZzItYWRzZW5zZS8iLCJzb3VyY2VzIjpbImFkc2Vuc2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBRUwsdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxNQUFNLEVBQ04sS0FBSyxFQUdMLFNBQVMsR0FDVixNQUFNLGVBQWUsQ0FBQztBQUV2QixPQUFPLEVBQWlCLGFBQWEsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBbUJoRSxNQUFNOzs7O0lBMEJKLFlBQ2lDO1FBQUEsV0FBTSxHQUFOLE1BQU07Ozs7d0JBcEJuQixPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQztLQXFCL0Q7Ozs7SUFFSixRQUFRO1FBQ04sdUJBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7Ozs7Ozs7UUFDM0IsYUFBZ0IsTUFBUyxFQUFFLFlBQWU7WUFDeEMsTUFBTSxDQUFDLE1BQU0sSUFBSSxNQUFNLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQztTQUMvRDtRQUNELElBQUksQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3BELElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzlDLElBQUksQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDLFFBQVEsSUFBSSxNQUFNLENBQUMsQ0FBQztRQUM5RCxJQUFJLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxPQUFPLElBQUksT0FBTyxDQUFDLENBQUM7UUFDNUQsSUFBSSxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0MsSUFBSSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDOUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDOUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDdkQsSUFBSSxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDaEUsSUFBSSxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxNQUFNLENBQUMsWUFBWSxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0tBQy9DOzs7O0lBQ0QsV0FBVztRQUNULHVCQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDOUQsRUFBRSxDQUFDLENBQUMsTUFBTSxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO1lBQ25DLE1BQU0sQ0FBQyxHQUFHLEdBQUcsYUFBYSxDQUFDO1lBQzNCLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUNqQjtLQUNGOzs7Ozs7O0lBT0QsZUFBZTtRQUNiLHVCQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDeEIsRUFBRSxDQUFDLENBQUMsR0FBRyxZQUFZLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDN0IsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7U0FDbEQ7S0FDRjs7OztJQUVELElBQUk7UUFDRix1QkFBTSxDQUFDLEdBQVEsRUFBRSxDQUFDO1FBQ2xCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO1lBQ3RCLENBQUMsQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQ25DLENBQUMsQ0FBQyxxQkFBcUIsR0FBRyxJQUFJLENBQUM7U0FDaEM7UUFDRCxJQUFJLENBQUM7WUFDSCx1QkFBTSxXQUFXLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQzFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEIsTUFBTSxDQUFDLElBQUksQ0FBQztTQUNiO1FBQUMsS0FBSyxDQUFDLENBQUMsaUJBQUEsQ0FBQyxFQUFFLENBQUM7WUFDWCxNQUFNLENBQUMsQ0FBQyxDQUFDO1NBQ1Y7S0FDRjs7O1lBakdGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsd0JBQXdCO2dCQUNsQyxRQUFRLEVBQUU7Ozs7Ozs7Ozs7O0dBV1Q7Z0JBQ0QsbUJBQW1CLEVBQUUsS0FBSztnQkFDMUIsZUFBZSxFQUFFLHVCQUF1QixDQUFDLE1BQU07YUFDaEQ7Ozs7NENBNEJJLE1BQU0sU0FBQyxhQUFhOzs7eUJBekJ0QixLQUFLO3VCQUVMLEtBQUs7eUJBQ0wsS0FBSzt5QkFFTCxLQUFLO3dCQUVMLEtBQUs7c0JBRUwsS0FBSzt1QkFFTCxLQUFLO3VCQUVMLEtBQUs7MEJBRUwsS0FBSzs2QkFFTCxLQUFLOzZCQUVMLEtBQUs7dUJBRUwsS0FBSztvQkFDTCxTQUFTLFNBQUMsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFmdGVyVmlld0luaXQsXG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDb21wb25lbnQsXG4gIEluamVjdCxcbiAgSW5wdXQsXG4gIE9uRGVzdHJveSxcbiAgT25Jbml0LFxuICBWaWV3Q2hpbGQsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBBZHNlbnNlQ29uZmlnLCBBRFNFTlNFX1RPS0VOIH0gZnJvbSAnLi9hZHNlbnNlLWNvbmZpZyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ25nMi1hZHNlbnNlLG5nLWFkc2Vuc2UnLFxuICB0ZW1wbGF0ZTogYFxuICA8aW5zICNpbnMgY2xhc3M9XCJhZHNieWdvb2dsZVwiXG4gICAgW25nU3R5bGVdPVwieydkaXNwbGF5JzogZGlzcGxheSwgJ3dpZHRoLnB4Jzogd2lkdGgsICdoZWlnaHQucHgnOiBoZWlnaHQgfVwiXG4gICAgW2F0dHIuZGF0YS1hZC1jbGllbnRdPVwiYWRDbGllbnRcIlxuICAgIFthdHRyLmRhdGEtYWQtc2xvdF09XCJhZFNsb3RcIlxuICAgIFthdHRyLmRhdGEtYWQtZm9ybWF0XT1cImFkRm9ybWF0XCJcbiAgICBbYXR0ci5kYXRhLWFkLXJlZ2lvbl09XCJhZFJlZ2lvblwiXG4gICAgW2F0dHIuZGF0YS1sYXlvdXRdPVwibGF5b3V0XCJcbiAgICBbYXR0ci5kYXRhLWFkdGVzdF09XCJhZHRlc3RcIlxuICAgIFthdHRyLmRhdGEtbGF5b3V0LWtleV09XCJsYXlvdXRLZXlcIj5cbiAgPC9pbnM+XG4gIGAsXG4gIHByZXNlcnZlV2hpdGVzcGFjZXM6IGZhbHNlLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbn0pXG5leHBvcnQgY2xhc3MgQWRzZW5zZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCwgT25EZXN0cm95IHtcbiAgLyoqIGFkc2Vuc2UgYWNjb3VudCBjYS1wdWItWFhYWFhYWFhYWFhYWFhYWCAqL1xuICBASW5wdXQoKSBhZENsaWVudDogc3RyaW5nO1xuICAvKiogYWQgc2xvdC9udW1iZXIgKi9cbiAgQElucHV0KCkgYWRTbG90OiBzdHJpbmcgfCBudW1iZXI7XG4gIEBJbnB1dCgpIGFkRm9ybWF0OiBzdHJpbmc7XG4gIC8qKiBjYW4gYmUgbWFudWFsbHkgc2V0IGlmIHlvdSBuZWVkIGFsbCBhZHMgb24gYSBwYWdlIHRvIGhhdmUgc2FtZSBpZCBwYWdlLXh4eCAqL1xuICBASW5wdXQoKSBhZFJlZ2lvbiA9ICdwYWdlLScgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCkgKyAxO1xuICAvKiogaW5zIGVsZW1lbnQgZGlzcGxheSBzdHlsZSAqL1xuICBASW5wdXQoKSBkaXNwbGF5OiBzdHJpbmc7XG4gIC8qKiBpbnMgZWxlbWVudCBoZWlnaHQgaW4gcHggKi9cbiAgQElucHV0KCkgd2lkdGg6IG51bWJlcjtcbiAgLyoqIGlucyBlbGVtZW50IHdpZHRoIGluIHB4ICovXG4gIEBJbnB1dCgpIGhlaWdodDogbnVtYmVyO1xuICAvKiogdXNlZCBmb3IgaW4tZmVlZCBhZHMgKi9cbiAgQElucHV0KCkgbGF5b3V0OiBzdHJpbmc7XG4gIC8qKiB1c2VkIGZvciBpbi1mZWVkIGFkcyAqL1xuICBASW5wdXQoKSBsYXlvdXRLZXk6IHN0cmluZztcbiAgLyoqIGVuYWJsZSBwYWdlLWxldmVsIGFkcyAqL1xuICBASW5wdXQoKSBwYWdlTGV2ZWxBZHM6IGJvb2xlYW47XG4gIC8qKiBvbiBmaXJzdCBsb2FkIHNvbWV0aW1lcyBhZHNlbnNlIGlzIG5vdCByZWFkeSAqL1xuICBASW5wdXQoKSB0aW1lT3V0UmV0cnk6IG51bWJlcjtcbiAgLyoqIHNldHMgdXAgc29tZSBzb3J0IG9mIGdvb2dsZSB0ZXN0IGFkICovXG4gIEBJbnB1dCgpIGFkdGVzdDogc3RyaW5nO1xuICBAVmlld0NoaWxkKCdpbnMnKSBpbnM6IGFueTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBASW5qZWN0KEFEU0VOU0VfVE9LRU4pIHByaXZhdGUgY29uZmlnOiBBZHNlbnNlQ29uZmlnLFxuICApIHt9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgZnVuY3Rpb24gdXNlPFQ+KHNvdXJjZTogVCwgZGVmYXVsdFZhbHVlOiBUKTogVCB7XG4gICAgICByZXR1cm4gY29uZmlnICYmIHNvdXJjZSAhPT0gdW5kZWZpbmVkID8gc291cmNlIDogZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgICB0aGlzLmFkQ2xpZW50ID0gdXNlKHRoaXMuYWRDbGllbnQsIGNvbmZpZy5hZENsaWVudCk7XG4gICAgdGhpcy5hZFNsb3QgPSB1c2UodGhpcy5hZFNsb3QsIGNvbmZpZy5hZFNsb3QpO1xuICAgIHRoaXMuYWRGb3JtYXQgPSB1c2UodGhpcy5hZEZvcm1hdCwgY29uZmlnLmFkRm9ybWF0IHx8ICdhdXRvJyk7XG4gICAgdGhpcy5kaXNwbGF5ID0gdXNlKHRoaXMuZGlzcGxheSwgY29uZmlnLmRpc3BsYXkgfHwgJ2Jsb2NrJyk7XG4gICAgdGhpcy53aWR0aCA9IHVzZSh0aGlzLndpZHRoLCBjb25maWcud2lkdGgpO1xuICAgIHRoaXMuaGVpZ2h0ID0gdXNlKHRoaXMuaGVpZ2h0LCBjb25maWcuaGVpZ2h0KTtcbiAgICB0aGlzLmxheW91dCA9IHVzZSh0aGlzLmxheW91dCwgY29uZmlnLmxheW91dCk7XG4gICAgdGhpcy5sYXlvdXRLZXkgPSB1c2UodGhpcy5sYXlvdXRLZXksIGNvbmZpZy5sYXlvdXRLZXkpO1xuICAgIHRoaXMucGFnZUxldmVsQWRzID0gdXNlKHRoaXMucGFnZUxldmVsQWRzLCBjb25maWcucGFnZUxldmVsQWRzKTtcbiAgICB0aGlzLnRpbWVPdXRSZXRyeSA9IHVzZSh0aGlzLnRpbWVPdXRSZXRyeSwgY29uZmlnLnRpbWVPdXRSZXRyeSB8fCAyMDApO1xuICAgIHRoaXMuYWR0ZXN0ID0gdXNlKHRoaXMuYWR0ZXN0LCBjb25maWcuYWR0ZXN0KTtcbiAgfVxuICBuZ09uRGVzdHJveSgpIHtcbiAgICBjb25zdCBpZnJhbWUgPSB0aGlzLmlucy5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lmcmFtZScpO1xuICAgIGlmIChpZnJhbWUgJiYgaWZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcbiAgICAgIGlmcmFtZS5zcmMgPSAnYWJvdXQ6YmxhbmsnO1xuICAgICAgaWZyYW1lLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBhdHRlbXB0cyB0byBwdXNoIHRoZSBhZCB0d2ljZS4gVXN1YWxseSBpZiBvbmUgZG9lc24ndCB3b3JrIHRoZSBvdGhlclxuICAgKiB3aWxsIGRlcGVkaW5nIG9uIGlmIHRoZSBicm93c2VyIGhhcyB0aGUgYWRzZW5zZSBjb2RlIGNhY2hlZCBhbmRcbiAgICogaWYgaXRzIHRoZSBmaXJzdCBwYWdlIHRvIGJlIGxvYWRlZFxuICAgKi9cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIGNvbnN0IHJlcyA9IHRoaXMucHVzaCgpO1xuICAgIGlmIChyZXMgaW5zdGFuY2VvZiBUeXBlRXJyb3IpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5wdXNoKCksIHRoaXMudGltZU91dFJldHJ5KTtcbiAgICB9XG4gIH1cblxuICBwdXNoKCkge1xuICAgIGNvbnN0IHA6IGFueSA9IHt9O1xuICAgIGlmICh0aGlzLnBhZ2VMZXZlbEFkcykge1xuICAgICAgcC5nb29nbGVfYWRfY2xpZW50ID0gdGhpcy5hZENsaWVudDtcbiAgICAgIHAuZW5hYmxlX3BhZ2VfbGV2ZWxfYWRzID0gdHJ1ZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFkc2J5Z29vZ2xlID0gd2luZG93WydhZHNieWdvb2dsZSddO1xuICAgICAgYWRzYnlnb29nbGUucHVzaChwKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBlO1xuICAgIH1cbiAgfVxufVxuXG4iXX0=